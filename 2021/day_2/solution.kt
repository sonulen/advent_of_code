

data class Point(var x: Int = 0, var y: Int = 0, var aim: Int = 0)

fun main() {
    val input = listOf(
        "forward" to 8,
        "forward" to 1,
        "down" to 9,
        "down" to 8,
        "down" to 5,
        "forward" to 4,
        "up" to 9,
        "forward" to 7,
        "forward" to 2,
        "down" to 6,
        "forward" to 7,
        "forward" to 5,
        "forward" to 8,
        "down" to 7,
        "up" to 8,
        "forward" to 1,
        "forward" to 6,
        "down" to 8,
        "up" to 3,
        "forward" to 3,
        "down" to 3,
        "down" to 7,
        "forward" to 5,
        "down" to 1,
        "down" to 9,
        "forward" to 4,
        "up" to 7,
        "forward" to 9,
        "forward" to 1,
        "down" to 6,
        "down" to 5,
        "down" to 4,
        "forward" to 9,
        "forward" to 1,
        "forward" to 4,
        "up" to 3,
        "up" to 6,
        "forward" to 1,
        "forward" to 9,
        "forward" to 4,
        "down" to 1,
        "down" to 9,
        "forward" to 7,
        "forward" to 8,
        "down" to 8,
        "down" to 8,
        "down" to 4,
        "down" to 5,
        "up" to 3,
        "forward" to 4,
        "down" to 1,
        "forward" to 2,
        "forward" to 1,
        "forward" to 8,
        "up" to 2,
        "forward" to 5,
        "forward" to 4,
        "forward" to 5,
        "forward" to 8,
        "down" to 4,
        "down" to 5,
        "down" to 8,
        "down" to 7,
        "down" to 6,
        "forward" to 4,
        "up" to 8,
        "forward" to 6,
        "down" to 2,
        "down" to 7,
        "up" to 7,
        "down" to 2,
        "down" to 6,
        "forward" to 5,
        "forward" to 2,
        "forward" to 8,
        "down" to 5,
        "down" to 6,
        "down" to 6,
        "up" to 7,
        "down" to 7,
        "forward" to 8,
        "down" to 7,
        "down" to 7,
        "down" to 2,
        "down" to 2,
        "forward" to 3,
        "up" to 5,
        "down" to 3,
        "up" to 3,
        "down" to 4,
        "up" to 9,
        "down" to 1,
        "up" to 1,
        "forward" to 3,
        "up" to 3,
        "forward" to 9,
        "up" to 6,
        "down" to 3,
        "down" to 6,
        "forward" to 4,
        "forward" to 5,
        "forward" to 8,
        "down" to 6,
        "down" to 9,
        "down" to 4,
        "down" to 5,
        "forward" to 7,
        "down" to 3,
        "forward" to 8,
        "forward" to 3,
        "up" to 9,
        "forward" to 5,
        "forward" to 8,
        "forward" to 1,
        "down" to 4,
        "up" to 2,
        "forward" to 1,
        "down" to 1,
        "forward" to 5,
        "down" to 8,
        "down" to 2,
        "forward" to 3,
        "forward" to 2,
        "forward" to 1,
        "down" to 7,
        "forward" to 1,
        "down" to 4,
        "forward" to 7,
        "forward" to 5,
        "down" to 8,
        "down" to 2,
        "up" to 4,
        "up" to 8,
        "forward" to 6,
        "up" to 2,
        "down" to 8,
        "up" to 9,
        "forward" to 3,
        "up" to 5,
        "down" to 3,
        "down" to 5,
        "up" to 6,
        "forward" to 3,
        "up" to 9,
        "down" to 4,
        "forward" to 8,
        "up" to 3,
        "forward" to 6,
        "forward" to 7,
        "forward" to 8,
        "forward" to 6,
        "down" to 9,
        "forward" to 4,
        "up" to 8,
        "forward" to 3,
        "forward" to 3,
        "forward" to 6,
        "down" to 3,
        "forward" to 5,
        "down" to 4,
        "down" to 4,
        "up" to 4,
        "down" to 8,
        "down" to 4,
        "down" to 1,
        "down" to 7,
        "down" to 7,
        "up" to 9,
        "down" to 7,
        "forward" to 2,
        "down" to 1,
        "down" to 8,
        "forward" to 8,
        "forward" to 4,
        "forward" to 6,
        "forward" to 8,
        "forward" to 6,
        "forward" to 8,
        "forward" to 7,
        "forward" to 6,
        "up" to 7,
        "down" to 6,
        "down" to 9,
        "down" to 2,
        "down" to 8,
        "down" to 4,
        "up" to 6,
        "up" to 8,
        "forward" to 3,
        "down" to 7,
        "down" to 3,
        "forward" to 3,
        "forward" to 3,
        "down" to 4,
        "down" to 1,
        "up" to 3,
        "forward" to 3,
        "down" to 5,
        "up" to 6,
        "down" to 6,
        "forward" to 1,
        "down" to 3,
        "down" to 6,
        "down" to 9,
        "down" to 3,
        "forward" to 8,
        "down" to 1,
        "forward" to 7,
        "forward" to 1,
        "forward" to 3,
        "up" to 3,
        "down" to 8,
        "forward" to 4,
        "down" to 4,
        "down" to 4,
        "down" to 8,
        "down" to 5,
        "down" to 8,
        "forward" to 6,
        "forward" to 7,
        "down" to 9,
        "forward" to 2,
        "up" to 9,
        "down" to 5,
        "forward" to 2,
        "down" to 5,
        "down" to 8,
        "forward" to 1,
        "forward" to 6,
        "forward" to 2,
        "forward" to 6,
        "down" to 7,
        "up" to 7,
        "down" to 7,
        "forward" to 7,
        "up" to 8,
        "forward" to 9,
        "down" to 5,
        "up" to 6,
        "up" to 6,
        "forward" to 3,
        "down" to 5,
        "forward" to 1,
        "down" to 4,
        "down" to 4,
        "down" to 1,
        "up" to 6,
        "down" to 8,
        "down" to 9,
        "down" to 2,
        "up" to 2,
        "up" to 7,
        "forward" to 5,
        "down" to 5,
        "up" to 2,
        "forward" to 2,
        "up" to 1,
        "forward" to 2,
        "up" to 4,
        "up" to 7,
        "forward" to 2,
        "down" to 4,
        "down" to 1,
        "forward" to 4,
        "up" to 6,
        "forward" to 1,
        "up" to 7,
        "down" to 8,
        "down" to 5,
        "down" to 1,
        "up" to 7,
        "down" to 5,
        "forward" to 4,
        "forward" to 2,
        "down" to 2,
        "down" to 6,
        "forward" to 1,
        "forward" to 2,
        "up" to 6,
        "down" to 1,
        "forward" to 2,
        "down" to 5,
        "down" to 9,
        "down" to 6,
        "up" to 8,
        "forward" to 3,
        "down" to 6,
        "up" to 3,
        "down" to 8,
        "down" to 8,
        "forward" to 2,
        "forward" to 1,
        "forward" to 7,
        "forward" to 8,
        "forward" to 2,
        "forward" to 5,
        "down" to 6,
        "down" to 3,
        "forward" to 5,
        "up" to 8,
        "forward" to 6,
        "up" to 9,
        "forward" to 7,
        "up" to 3,
        "down" to 7,
        "down" to 3,
        "up" to 8,
        "down" to 5,
        "forward" to 3,
        "down" to 1,
        "forward" to 1,
        "forward" to 2,
        "down" to 7,
        "down" to 6,
        "down" to 9,
        "forward" to 3,
        "down" to 7,
        "down" to 7,
        "down" to 5,
        "forward" to 4,
        "down" to 4,
        "forward" to 5,
        "forward" to 1,
        "forward" to 4,
        "down" to 8,
        "up" to 4,
        "down" to 6,
        "down" to 8,
        "up" to 1,
        "forward" to 7,
        "up" to 3,
        "forward" to 6,
        "forward" to 8,
        "forward" to 9,
        "forward" to 2,
        "up" to 6,
        "forward" to 7,
        "forward" to 3,
        "up" to 3,
        "up" to 6,
        "down" to 8,
        "up" to 4,
        "forward" to 9,
        "down" to 9,
        "up" to 3,
        "up" to 3,
        "down" to 4,
        "up" to 3,
        "down" to 2,
        "down" to 4,
        "up" to 9,
        "down" to 1,
        "forward" to 6,
        "forward" to 3,
        "down" to 3,
        "forward" to 4,
        "forward" to 3,
        "forward" to 8,
        "forward" to 1,
        "down" to 1,
        "up" to 4,
        "up" to 9,
        "down" to 8,
        "forward" to 3,
        "forward" to 2,
        "down" to 4,
        "down" to 1,
        "forward" to 8,
        "down" to 8,
        "up" to 8,
        "up" to 7,
        "down" to 4,
        "forward" to 6,
        "up" to 5,
        "down" to 1,
        "down" to 3,
        "down" to 9,
        "forward" to 3,
        "forward" to 9,
        "down" to 1,
        "down" to 6,
        "forward" to 8,
        "up" to 1,
        "down" to 9,
        "down" to 3,
        "forward" to 5,
        "forward" to 9,
        "forward" to 8,
        "up" to 7,
        "down" to 2,
        "down" to 5,
        "forward" to 6,
        "down" to 9,
        "down" to 4,
        "down" to 7,
        "down" to 4,
        "forward" to 7,
        "down" to 8,
        "up" to 8,
        "forward" to 2,
        "up" to 3,
        "down" to 4,
        "forward" to 2,
        "forward" to 4,
        "up" to 4,
        "forward" to 4,
        "forward" to 9,
        "down" to 9,
        "up" to 1,
        "forward" to 1,
        "down" to 8,
        "up" to 7,
        "up" to 9,
        "down" to 8,
        "down" to 7,
        "forward" to 9,
        "forward" to 1,
        "up" to 3,
        "forward" to 8,
        "forward" to 6,
        "forward" to 5,
        "up" to 2,
        "forward" to 8,
        "up" to 7,
        "down" to 8,
        "down" to 2,
        "up" to 9,
        "down" to 7,
        "forward" to 5,
        "forward" to 4,
        "down" to 9,
        "forward" to 4,
        "forward" to 5,
        "up" to 1,
        "down" to 8,
        "down" to 8,
        "down" to 4,
        "forward" to 3,
        "down" to 1,
        "up" to 7,
        "down" to 8,
        "forward" to 4,
        "down" to 5,
        "forward" to 1,
        "down" to 9,
        "forward" to 9,
        "up" to 7,
        "up" to 1,
        "down" to 3,
        "forward" to 3,
        "down" to 8,
        "forward" to 9,
        "down" to 3,
        "up" to 7,
        "forward" to 1,
        "up" to 8,
        "up" to 2,
        "up" to 1,
        "forward" to 8,
        "down" to 3,
        "forward" to 5,
        "up" to 3,
        "forward" to 6,
        "forward" to 9,
        "forward" to 2,
        "forward" to 6,
        "down" to 5,
        "forward" to 2,
        "down" to 7,
        "up" to 6,
        "forward" to 8,
        "forward" to 6,
        "down" to 3,
        "forward" to 8,
        "down" to 1,
        "forward" to 2,
        "down" to 9,
        "up" to 5,
        "down" to 6,
        "up" to 4,
        "forward" to 6,
        "forward" to 5,
        "forward" to 2,
        "forward" to 9,
        "forward" to 8,
        "up" to 4,
        "forward" to 4,
        "forward" to 9,
        "forward" to 4,
        "forward" to 7,
        "up" to 6,
        "down" to 5,
        "forward" to 8,
        "down" to 8,
        "up" to 3,
        "down" to 4,
        "up" to 8,
        "up" to 5,
        "forward" to 3,
        "down" to 8,
        "down" to 9,
        "down" to 1,
        "forward" to 7,
        "down" to 8,
        "up" to 4,
        "down" to 8,
        "up" to 4,
        "down" to 5,
        "forward" to 1,
        "forward" to 3,
        "down" to 6,
        "down" to 5,
        "forward" to 4,
        "up" to 2,
        "down" to 7,
        "down" to 3,
        "up" to 9,
        "forward" to 5,
        "forward" to 3,
        "forward" to 2,
        "up" to 2,
        "down" to 9,
        "up" to 1,
        "down" to 2,
        "forward" to 3,
        "forward" to 8,
        "forward" to 5,
        "down" to 2,
        "down" to 2,
        "up" to 3,
        "down" to 8,
        "forward" to 4,
        "forward" to 6,
        "forward" to 5,
        "up" to 9,
        "down" to 7,
        "up" to 7,
        "up" to 2,
        "down" to 2,
        "up" to 4,
        "forward" to 2,
        "forward" to 2,
        "down" to 7,
        "forward" to 5,
        "down" to 2,
        "up" to 7,
        "forward" to 6,
        "forward" to 5,
        "down" to 1,
        "forward" to 8,
        "forward" to 3,
        "forward" to 2,
        "up" to 3,
        "down" to 1,
        "forward" to 6,
        "forward" to 5,
        "forward" to 9,
        "down" to 5,
        "up" to 3,
        "down" to 1,
        "down" to 5,
        "forward" to 1,
        "down" to 1,
        "down" to 1,
        "forward" to 6,
        "up" to 8,
        "forward" to 9,
        "up" to 5,
        "up" to 5,
        "forward" to 9,
        "forward" to 3,
        "forward" to 4,
        "down" to 8,
        "forward" to 9,
        "forward" to 9,
        "up" to 2,
        "down" to 6,
        "down" to 2,
        "forward" to 1,
        "down" to 7,
        "up" to 4,
        "forward" to 3,
        "down" to 6,
        "forward" to 5,
        "down" to 6,
        "up" to 5,
        "forward" to 6,
        "up" to 6,
        "forward" to 7,
        "forward" to 5,
        "forward" to 1,
        "down" to 9,
        "forward" to 7,
        "forward" to 4,
        "forward" to 1,
        "forward" to 6,
        "up" to 7,
        "forward" to 6,
        "down" to 3,
        "forward" to 4,
        "down" to 1,
        "down" to 9,
        "down" to 8,
        "forward" to 7,
        "down" to 7,
        "up" to 5,
        "forward" to 1,
        "forward" to 4,
        "forward" to 8,
        "forward" to 6,
        "forward" to 2,
        "forward" to 4,
        "forward" to 2,
        "forward" to 6,
        "forward" to 5,
        "down" to 4,
        "down" to 3,
        "forward" to 6,
        "forward" to 3,
        "up" to 6,
        "down" to 3,
        "down" to 2,
        "forward" to 1,
        "down" to 9,
        "up" to 1,
        "forward" to 8,
        "forward" to 1,
        "forward" to 1,
        "forward" to 4,
        "down" to 5,
        "forward" to 7,
        "forward" to 5,
        "up" to 5,
        "up" to 7,
        "forward" to 7,
        "forward" to 5,
        "down" to 3,
        "down" to 2,
        "down" to 7,
        "forward" to 7,
        "forward" to 4,
        "down" to 9,
        "forward" to 2,
        "down" to 6,
        "forward" to 3,
        "up" to 6,
        "down" to 8,
        "down" to 7,
        "down" to 6,
        "down" to 7,
        "up" to 5,
        "up" to 9,
        "down" to 4,
        "up" to 6,
        "forward" to 1,
        "forward" to 2,
        "forward" to 4,
        "up" to 5,
        "down" to 2,
        "down" to 3,
        "forward" to 9,
        "down" to 9,
        "down" to 3,
        "forward" to 5,
        "forward" to 3,
        "down" to 1,
        "up" to 7,
        "forward" to 7,
        "forward" to 5,
        "down" to 8,
        "up" to 6,
        "down" to 7,
        "forward" to 5,
        "up" to 7,
        "up" to 6,
        "forward" to 2,
        "forward" to 6,
        "down" to 1,
        "up" to 8,
        "down" to 9,
        "down" to 1,
        "forward" to 9,
        "up" to 9,
        "down" to 2,
        "forward" to 6,
        "up" to 3,
        "down" to 1,
        "up" to 9,
        "down" to 6,
        "up" to 2,
        "up" to 6,
        "forward" to 9,
        "forward" to 8,
        "up" to 7,
        "forward" to 6,
        "up" to 3,
        "up" to 4,
        "down" to 6,
        "forward" to 1,
        "forward" to 9,
        "down" to 9,
        "down" to 6,
        "forward" to 1,
        "forward" to 2,
        "up" to 3,
        "down" to 4,
        "down" to 9,
        "down" to 3,
        "down" to 2,
        "forward" to 7,
        "down" to 9,
        "forward" to 9,
        "forward" to 5,
        "down" to 9,
        "forward" to 1,
        "forward" to 6,
        "down" to 6,
        "up" to 8,
        "up" to 8,
        "up" to 3,
        "forward" to 7,
        "forward" to 7,
        "forward" to 8,
        "down" to 5,
        "forward" to 3,
        "down" to 4,
        "down" to 6,
        "forward" to 1,
        "down" to 1,
        "forward" to 7,
        "forward" to 2,
        "down" to 7,
        "down" to 1,
        "up" to 6,
        "forward" to 3,
        "down" to 6,
        "forward" to 2,
        "down" to 6,
        "forward" to 8,
        "down" to 4,
        "up" to 8,
        "forward" to 9,
        "up" to 5,
        "forward" to 3,
        "down" to 6,
        "forward" to 4,
        "forward" to 4,
        "down" to 8,
        "up" to 5,
        "up" to 9,
        "down" to 8,
        "forward" to 1,
        "down" to 6,
        "down" to 3,
        "forward" to 1,
        "down" to 4,
        "up" to 6,
        "down" to 6,
        "down" to 6,
        "down" to 5,
        "forward" to 5,
        "forward" to 6,
        "down" to 1,
        "down" to 9,
        "down" to 4,
        "up" to 7,
        "down" to 2,
        "forward" to 5,
        "down" to 8,
        "down" to 8,
        "down" to 6,
        "down" to 1,
        "up" to 8,
        "down" to 1,
        "down" to 4,
        "forward" to 6,
        "down" to 3,
        "down" to 6,
        "up" to 4,
        "down" to 6,
        "up" to 7,
        "down" to 3,
        "forward" to 2,
        "up" to 3,
        "forward" to 7,
        "up" to 7,
        "up" to 4,
        "forward" to 5,
        "down" to 9,
        "down" to 2,
        "down" to 9,
        "up" to 6,
        "forward" to 9,
        "forward" to 3,
        "down" to 1,
        "forward" to 7,
        "forward" to 2,
        "down" to 5,
        "forward" to 3,
        "forward" to 7,
        "forward" to 4,
        "forward" to 7,
        "forward" to 6,
        "forward" to 3,
        "down" to 6,
        "forward" to 3,
        "down" to 1,
        "up" to 6,
        "up" to 9,
        "down" to 1,
        "forward" to 1,
        "down" to 1,
        "up" to 7,
        "forward" to 8,
        "forward" to 4,
        "up" to 4,
        "forward" to 7,
        "down" to 3,
        "up" to 8,
        "up" to 1,
        "down" to 6,
        "forward" to 8,
        "forward" to 7,
        "up" to 7,
        "down" to 4,
        "down" to 4,
        "down" to 8,
        "up" to 3,
        "forward" to 5,
        "down" to 4,
        "forward" to 9,
        "forward" to 6,
        "forward" to 6,
        "forward" to 7,
        "down" to 6,
        "down" to 3,
        "forward" to 2,
        "up" to 8,
        "forward" to 1,
        "down" to 9,
        "up" to 7,
        "down" to 3,
        "down" to 3,
        "up" to 5,
        "up" to 4,
        "up" to 8,
        "forward" to 2,
        "down" to 5,
        "forward" to 7,
        "up" to 8,
        "up" to 6,
        "forward" to 5,
        "down" to 5,
        "forward" to 2,
        "down" to 6,
        "forward" to 7,
        "down" to 6,
        "forward" to 5,
        "forward" to 3,
        "forward" to 9,
        "down" to 7,
        "forward" to 7,
        "forward" to 7,
        "forward" to 7,
        "forward" to 1,
        "forward" to 2,
        "forward" to 2,
        "down" to 6,
        "down" to 8,
        "forward" to 3,
        "down" to 9,
        "down" to 5,
        "up" to 5,
        "forward" to 3,
        "forward" to 9,
        "down" to 7,
        "down" to 9,
        "down" to 9,
        "down" to 9,
        "forward" to 6,
        "down" to 1,
        "forward" to 6,
        "forward" to 8,
        "forward" to 8,
        "down" to 4,
        "forward" to 8,
        "down" to 9,
        "forward" to 6,
        "down" to 2,
        "down" to 1,
        "down" to 5,
        "forward" to 5,
        "forward" to 8,
        "forward" to 7,
        "forward" to 7,
        "forward" to 8,
        "down" to 5,
        "forward" to 3,
        "up" to 5,
        "forward" to 5,
        "down" to 9,
        "up" to 8,
        "down" to 2,
        "forward" to 8,
        "forward" to 5,
        "up" to 5,
        "forward" to 4,
        "down" to 3,
        "forward" to 4,
        "up" to 3,
        "forward" to 1,
        "forward" to 8,
        "forward" to 3,
        "down" to 2,
        "up" to 8,
        "forward" to 2,
        "down" to 8,
        "forward" to 3,
        "up" to 2,
        "up" to 1,
        "down" to 9,
        "down" to 8,
        "forward" to 1,
        "forward" to 1,
        "down" to 8,
        "forward" to 9,
        "up" to 2,
        "forward" to 4,
        "forward" to 2,
        "up" to 2,
        "down" to 8,
        "down" to 1,
        "forward" to 1,
        "forward" to 3,
        "forward" to 6,
        "up" to 6,
        "down" to 2,
        "up" to 1,
        "down" to 3,
        "forward" to 3,
        "up" to 5,
        "down" to 9,
        "down" to 7,
        "forward" to 8,
        "up" to 5,
        "up" to 4,
        "forward" to 8,
        "forward" to 5,
        "down" to 8,
        "up" to 8,
        "forward" to 7,
        "up" to 8,
        "down" to 6,
        "down" to 2,
        "down" to 3,
        "forward" to 9,
        "down" to 4,
        "down" to 2,
        "down" to 1,
        "up" to 2,
        "up" to 4,
        "forward" to 3,
        "forward" to 1,
        "forward" to 9,
        "forward" to 1,
        "down" to 7,
        "up" to 7,
        "forward" to 5,
        "down" to 3,
        "forward" to 3,
        "down" to 4,
        "down" to 1,
        "up" to 5,
        "down" to 8,
        "down" to 2,
        "forward" to 4,
        "up" to 9,
        "down" to 3,
        "down" to 3,
        "down" to 2,
        "forward" to 7,
        "down" to 2,
        "forward" to 6,
        "up" to 8,
        "forward" to 5,
        "forward" to 5,
        "up" to 9,
        "forward" to 8,
        "forward" to 9,
        "down" to 5,
        "forward" to 5,
        "down" to 3,
        "forward" to 5,
        "down" to 1,
        "forward" to 6,
        "forward" to 6,
        "forward" to 1,
        "forward" to 2,
        "up" to 5,
        "forward" to 9,
    )

    var start = Point()

    input.forEach { (direction, value) ->
        when (direction) {
            "forward" -> {
                with(start) {
                    x += value
                    y += aim * value
                    if (y < 0) y = 0
                }
            }

            "down" -> start.aim += value
            "up" -> start.aim -= value
            
        }
    }
    
    println(start.x * start.y)
}